version: 2

models:
  - name: dim_customer
    description: >
      Unified dimension table of customers from both FudgeMart and FudgeFlix. 
      Contains one row per customer per system (based on source_system).
    columns:
      - name: customer_key
        description: Surrogate key generated using customer_id and source_system
        tests:
          - not_null
          - unique

      - name: customer_id
        description: Natural key from the source system (FM.customer_id or FF.account_id)
        tests:
          - not_null

      - name: first_name
        description: Customer's first name

      - name: last_name
        description: Customer's last name

      - name: email
        description: Customer email address

      - name: address
        description: Customer street address

      - name: zipcode
        description: Customer ZIP/postal code

      - name: created_at
        description: Timestamp the customer account was created (only available for FudgeMart)

      - name: source_system
        description: Source system of the customer data (either "fudgemart" or "fudgeflix")
        tests:
          - not_null
